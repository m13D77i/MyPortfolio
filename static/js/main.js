document.addEventListener("DOMContentLoaded",function(){let d="rtl"===document.documentElement.dir;function e(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}gsap.registerPlugin(ScrollTrigger),e(),window.addEventListener("resize",e);let t=document.querySelector(".mil-percent"),l=document.querySelector(".mil-preload-line"),r=document.querySelector(".mil-preloader"),i=0;let o=setInterval(function(){i<=100?(t.textContent=i,l.style.width=i+"%",i+=5):(clearInterval(o),r.classList.add("mil-complete"))},100);var n={containers:["#swupMain","#swupMenu"],animateHistoryBrowsing:!0,linkSelector:"a:not([data-no-swup])",plugins:[new SwupBodyClassPlugin]},n=(new Swup(n),document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(e){var t=this.href;fetch(t).then(e=>e.text()).then(e=>{if((new DOMParser).parseFromString(e,"text/html").body.className.includes("mil-fw-page")){let e=document.querySelector(".mil-right-part");e.classList.add("mil-go"),setTimeout(()=>{e.classList.remove("mil-go")},400)}}).catch(e=>console.error("Помилка при завантаженні сторінки:",e))})}),document.querySelector(".mil-cloned")),c=document.querySelector(".mil-cv-clone-here");n&&c&&(n=n.cloneNode(!0),c.appendChild(n),c=n.querySelector(".mil-banner-bg"))&&c.classList.add("mil-fw-banner");let a=document.querySelector(".mil-menu-btn"),s=document.querySelector(".mil-main-menu"),m=document.querySelector(".mil-overlay");n=document.querySelectorAll(".mil-main-menu a");function u(){a.classList.toggle("mil-active"),s.classList.toggle("mil-active"),m.classList.toggle("mil-active")}a.addEventListener("click",u),m.addEventListener("click",()=>{m.classList.contains("mil-active")&&u()}),n.forEach(e=>{e.addEventListener("click",()=>{s.classList.contains("mil-active")&&u()})});c=document.querySelectorAll(".mil-typing");let g=["طراح رابط کاربری و تجربه کاربری","توسعه‌دهنده وب","طراح گرافیک","رویاپرداز 😊"];c.forEach(e=>{{var n=e,c=g;let r=0,i=0,o=!1;!function e(){var t=c[r],l=t.substring(0,o?i--:i++),l=(n.textContent=l,o||i!==t.length?o&&0===i&&(o=!1,r=(r+1)%c.length):setTimeout(()=>o=!0,1500),o?20:70);setTimeout(e,l)}()}}),document.querySelectorAll(".mil-progress-prog").forEach(e=>{var t=e.getAttribute("data-size");t&&e.style.setProperty("--size",t)}),Fancybox.bind("[data-fancybox='gallery'], [data-fancybox='certificate']",{hideScrollbar:!1,idle:!1,Carousel:{transition:"slide"}}),document.querySelectorAll(".mil-zoom").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();e=t.closest(".mil-work-card, .mil-pub-img")?.querySelector('a[data-fancybox="gallery"]');e&&e.click()})}),Fancybox.defaults.Hash=!1;n=document.querySelector(".mil-grid");if(n){let l=new Isotope(n,{itemSelector:".mil-grid-item",percentPosition:!0,transitionDuration:"0.4s",masonry:{columnWidth:".mil-grid-sizer"},originLeft:!d});document.querySelectorAll(".mil-filter a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("data-filter"),t=l;gsap.to(".mil-half-1",{scrollTop:0,duration:.3,ease:"sine",onComplete:()=>ScrollTrigger.refresh()}),t.arrange({filter:e}),(t=document.querySelectorAll(".mil-filter a")).forEach(e=>e.classList.remove("mil-current")),event.currentTarget.classList.add("mil-current")})})}v(".mil-projects-slider",{parallax:!0,autoHeight:!0,spaceBetween:15,slidesPerView:1,speed:800,navigation:{prevEl:".mil-project-prev",nextEl:".mil-project-next"},breakpoints:{992:{slidesPerView:2}}});c=document.querySelectorAll(".mil-reviews-slider");let p=document.querySelectorAll(".mil-reviews-pagination");function v(e,t){e&&new Swiper(e,t)}c.forEach((e,t)=>{v(e,{parallax:!0,autoHeight:!0,spaceBetween:15,slidesPerView:1,speed:800,pagination:{el:p[t],clickable:!0},navigation:{prevEl:document.querySelectorAll(".mil-review-prev")[t],nextEl:document.querySelectorAll(".mil-review-next")[t]}})});var n=document.querySelectorAll(".mil-up"),c=document.querySelectorAll(".mil-scale-img"),y=document.querySelectorAll(".mil-add-class");function f(e){e=e.getBoundingClientRect();return-90<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&0<=e.left&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}n=Array.from(n).filter(e=>!f(e)),y=Array.from(y).filter(e=>!f(e));function h(e,t){gsap.fromTo(e,{opacity:0,y:40,scale:.95,pointerEvents:"none"},{y:0,opacity:1,scale:1,duration:.4,onComplete:()=>{setTimeout(()=>{e.style.pointerEvents="all"},100)},scrollTrigger:{trigger:e,scroller:t,toggleActions:"play none none reverse",start:"top+=90px bottom",onEnter:()=>e.style.pointerEvents="none",onLeaveBack:()=>e.style.pointerEvents="none"}})}n.forEach(e=>{var t,l;t=h,l=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2"),t(e,l)}),y.forEach(e=>{t=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2");var t,l=e,e=t;ScrollTrigger.create({trigger:l,scroller:e,toggleActions:"play none none reverse",onEnter:()=>{l.classList.add("mil-active")},onLeaveBack:()=>{l.classList.remove("mil-active")}})}),c.forEach(e=>{r=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2"),t=Math.max(.95,e.getAttribute("data-value-1")),l=e.getAttribute("data-value-2");var t,l,r,i=window.innerWidth<1200?"top-=100 bottom-=100%":"top bottom-=100%";gsap.fromTo(e,{scale:t,y:"0%"},{scale:l,y:"10%",scrollTrigger:{scroller:r,trigger:e,start:i,scrub:!0,toggleActions:"play none none reverse"}})}),document.addEventListener("swup:contentReplaced",function(){function e(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")}e(),window.addEventListener("resize",e),document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(e){var t=this.href;fetch(t).then(e=>e.text()).then(e=>{if((new DOMParser).parseFromString(e,"text/html").body.className.includes("mil-fw-page")){let e=document.querySelector(".mil-right-part");e.classList.add("mil-go"),setTimeout(()=>{e.classList.remove("mil-go")},400)}}).catch(e=>console.error("Помилка при завантаженні сторінки:",e))})});var t=document.querySelector(".mil-cloned"),l=document.querySelector(".mil-cv-clone-here");t&&l&&(t=t.cloneNode(!0),l.appendChild(t),l=t.querySelector(".mil-banner-bg"))&&l.classList.add("mil-fw-banner");let r=document.querySelector(".mil-menu-btn"),i=document.querySelector(".mil-main-menu"),o=document.querySelector(".mil-overlay");document.querySelectorAll(".mil-main-menu a").forEach(e=>{e.addEventListener("click",()=>{i.classList.contains("mil-active")&&(r.classList.toggle("mil-active"),i.classList.toggle("mil-active"),o.classList.toggle("mil-active"))})}),document.querySelectorAll(".mil-progress-prog").forEach(e=>{var t=e.getAttribute("data-size");t&&e.style.setProperty("--size",t)}),Fancybox.bind("[data-fancybox='gallery'], [data-fancybox='certificate']",{hideScrollbar:!1,idle:!1,Carousel:{transition:"slide"}}),document.querySelectorAll(".mil-zoom").forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();e=t.closest(".mil-work-card")?.querySelector('a[data-fancybox="gallery"]');e&&e.click()})}),Fancybox.defaults.Hash=!1;t=document.querySelector(".mil-grid");if(t){let l=new Isotope(t,{itemSelector:".mil-grid-item",percentPosition:!0,transitionDuration:"0.4s",masonry:{columnWidth:".mil-grid-sizer"},originLeft:!d});document.querySelectorAll(".mil-filter a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var e=this.getAttribute("data-filter"),t=l;gsap.to(".mil-half-1",{scrollTop:0,duration:.3,ease:"sine",onComplete:()=>ScrollTrigger.refresh()}),t.arrange({filter:e}),(t=document.querySelectorAll(".mil-filter a")).forEach(e=>e.classList.remove("mil-current")),event.currentTarget.classList.add("mil-current")})})}c(".mil-projects-slider",{parallax:!0,autoHeight:!0,spaceBetween:15,slidesPerView:1,speed:800,navigation:{prevEl:".mil-project-prev",nextEl:".mil-project-next"},breakpoints:{992:{slidesPerView:2}}});l=document.querySelectorAll(".mil-reviews-slider");let n=document.querySelectorAll(".mil-reviews-pagination");function c(e,t){e&&new Swiper(e,t)}l.forEach((e,t)=>{c(e,{parallax:!0,autoHeight:!0,spaceBetween:15,slidesPerView:1,speed:800,pagination:{el:n[t],clickable:!0},navigation:{prevEl:document.querySelectorAll(".mil-review-prev")[t],nextEl:document.querySelectorAll(".mil-review-next")[t]}})});var t=document.querySelectorAll(".mil-up"),l=document.querySelectorAll(".mil-scale-img"),a=document.querySelectorAll(".mil-add-class");function s(e){e=e.getBoundingClientRect();return-90<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&0<=e.left&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}t=Array.from(t).filter(e=>!s(e)),a=Array.from(a).filter(e=>!s(e));function m(e,t){gsap.fromTo(e,{opacity:0,y:40,scale:.95,pointerEvents:"none"},{y:0,opacity:1,scale:1,duration:.4,onComplete:()=>{setTimeout(()=>{e.style.pointerEvents="all"},100)},scrollTrigger:{trigger:e,scroller:t,toggleActions:"play none none reverse",start:"top+=90px bottom",onEnter:()=>e.style.pointerEvents="none",onLeaveBack:()=>e.style.pointerEvents="none"}})}t.forEach(e=>{var t,l;t=m,l=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2"),t(e,l)}),a.forEach(e=>{t=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2");var t,l=e,e=t;ScrollTrigger.create({trigger:l,scroller:e,toggleActions:"play none none reverse",onEnter:()=>{l.classList.add("mil-active")},onLeaveBack:()=>{l.classList.remove("mil-active")}})}),l.forEach(e=>{r=(e=e).closest(".mil-half-1")||e.closest(".mil-half-2"),t=Math.max(.95,e.getAttribute("data-value-1")),l=e.getAttribute("data-value-2");var t,l,r,i=window.innerWidth<1200?"top-=100 bottom-=100%":"top bottom-=100%";gsap.fromTo(e,{scale:t,y:"0%"},{scale:l,y:"10%",scrollTrigger:{scroller:r,trigger:e,start:i,scrub:!0,toggleActions:"play none none reverse"}})})})});